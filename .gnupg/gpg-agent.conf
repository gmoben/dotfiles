# GPG Agent Configuration
# Enables SSH agent emulation for YubiKey and regular SSH keys

# Enable SSH support - allows gpg-agent to act as ssh-agent
enable-ssh-support

# Allow Emacs to handle pinentry via minibuffer
allow-emacs-pinentry

# Allow loopback pinentry for scripts
allow-loopback-pinentry

# PIN/passphrase caching (for non-hardware key operations)
# These don't affect YubiKey (which always requires touch/PIN)
default-cache-ttl 600
max-cache-ttl 7200

# SSH key caching
default-cache-ttl-ssh 600
max-cache-ttl-ssh 7200

# Pinentry program - use system default which auto-detects context
# The /usr/bin/pinentry script checks ~/.config/pinentry/preexec
# and selects gnome3/gtk/curses based on environment
pinentry-program /usr/bin/pinentry
